:- use(~(add/3, false/0, true/0)).

:- pub(update/4).
update([], _, _, []).
update([P, ..Rest], P, U, [U, ..Rest]) ::- true.
update([X, ..Rest], P, U, [X, ..NewRest]) :- update(Rest, P, U, NewRest).

:- pub(length/2).
length([], 0).
length([_, ..B], Len) :-
    length(B, BLen),
    add(BLen, 1, Len).

:- pub(in/2).
in(T, [T, ..]).
in(T, [_, ..R]) :- in(T, R).

:- pub(notin/2).
notin(_, []).
notin(T, [T, ..]) ::- false.
notin(T, [_, ..R]) :- notin(T, R).
